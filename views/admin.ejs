<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="https://uninest.com.bd/wp-content/uploads/2025/12/logo-white.webp">
<title>Admin Dashboard</title>

<style>
:root {
  --primary: #0b0d1c;
  --bg: #f4f4f6;
  --card: #ffffff;
  --muted: #6b7280;
  --border: #e5e7eb;
}

* { box-sizing: border-box; font-family: Inter, system-ui, sans-serif; }

body {
  margin: 0;
  background: var(--bg);
  padding: 24px;
}

.tabs {
  display: flex;
  justify-content: center;  
  background: #b6faff;
  border-radius: 999px;
  padding: 6px;
  gap: 17px;
}

.tab {
  padding: 10px 22px;
  border-radius: 999px;
  cursor: pointer;
  font-weight: 500;
}

.tab.active {
  background: white;
}

/* Card */
.card {
  background: var(--card);
  margin-top: 20px;
  padding: 20px;
  border-radius: 14px;
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.card-header h2 {
  margin: 0;
}

.subtitle {
  color: var(--muted);
  font-size: 14px;
}

/* Button */
.btn {
  background: var(--primary);
  color: white;
  border: none;
  padding: 10px 16px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 600;
}

.search {
  margin: 16px 0;
  padding: 10px 14px;
  width: 100%;
  border-radius: 10px;
  border: 1px solid var(--border);
}

table {
  width: 100%;
  border-collapse: collapse;
}

th, td {
  text-align: left;
  padding: 14px;
  border-bottom: 1px solid var(--border);
  font-size: 14px;
}

th {
  color: var(--muted);
  font-weight: 600;
}

.status {
  background: var(--primary);
  color: white;
  padding: 4px 12px;
  border-radius: 999px;
  font-size: 12px;
}

.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  display: none;
  align-items: center;
  justify-content: center;
}

.modal.active {
  display: flex;
}

.modal-box {
  background: white;
  width: 520px;
  border-radius: 16px;
  padding: 20px;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.modal-header h3 {
  margin: 0;
}

.close {
  cursor: pointer;
  font-size: 20px;
}

/* Form */
.form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  margin-top: 16px;
}

.form-grid input {
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid var(--border);
}

.form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 20px;
}

/* Payments row */
.payment-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px;
  border-bottom: 1px solid var(--border);
}

/* Costs: Budget grid */
.budget-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
  margin-top: 16px;
}

.budget-card {
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 16px;
}

.budget-title {
  font-size: 14px;
  color: var(--muted);
}

.budget-amount {
  font-size: 20px;
  font-weight: 700;
  margin-top: 6px;
}

.budget-sub {
  font-size: 13px;
  color: var(--muted);
}

.budget-util {
  margin-top: 6px;
  font-size: 13px;
  color: #2563eb;
}

/* Voucher row */
.voucher-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px;
  border: 1px solid var(--border);
  border-radius: 14px;
  margin-top: 12px;
}

/* Light button */
.light-btn {
  background: #fff;
  color: #000;
  border: 1px solid var(--border);
}

.badge {
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 12px;
  margin-left: 6px;
}

.badge.completed {
  background: #000;
  color: #fff;
}

.badge.delayed {
  background: #ffe4cc;
  color: #c2410c;
}

.milestone-card {
  border: 1px solid var(--border);
  padding: 16px;
  border-radius: 12px;
  margin-top: 14px;
  display: flex;
  justify-content: space-between;
}

.delay-box {
  margin-top: 10px;
  background: #fff4e5;
  padding: 10px;
  border-radius: 8px;
  font-size: 13px;
}

/* ===== FIX light button rendering ===== */
.btn.light-btn {
  background-color: #f3f4f6 !important;
  color: #111827 !important;
  border: 1px solid #e5e7eb !important;

  padding: 10px 16px;
  border-radius: 10px;

  display: inline-flex;
  align-items: center;
  gap: 6px;

  font-size: 14px;
  font-weight: 500;
  line-height: 1;

  cursor: pointer;
}

/* Emoji size fix */
.btn.light-btn span,
.btn.light-btn::first-letter {
  font-size: 13px;
}

/* Hover */
.btn.light-btn:hover {
  background-color: #e5e7eb !important;
}

/* Click */
.btn.light-btn:active {
  transform: scale(0.97);
}

</style>
</head>
<body>

<div class="tabs">
  <div class="tab active" onclick="showTab('shareholders', this)">Shareholders</div>
  <div class="tab" onclick="showTab('payments', this)">Payments</div>
  <div class="tab" onclick="showTab('costs', this)">Costs</div>
  <div class="tab" onclick="showTab('milestones', this)">Milestones</div>
  <div class="tab">Gallery</div>
  <div class="tab">Customization</div>
</div>

<div id="shareholdersView">
<div class="card">
  <div class="card-header">
    <div>
      <h2>Manage Shareholders</h2>
      <div class="subtitle">View and manage all shareholder information</div>
    </div>
    <button class="btn" onclick="openModal()">＋ Add Shareholder</button>
  </div>
  </div>
  <input class="search" placeholder="Search by name, flat number, or share ID...">
  <table>
    <thead>
      <tr>
        <th>Share ID</th>
        <th>Name</th>
        <th>Flat</th>
        <th>Contact</th>
        <th>Total Payment</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
<tbody id="tableBody">
  <tr>
    <td>SH-SHEJ-7788</td>
    <td>Shejahan Sharif</td>
    <td>B-402</td>
    <td>
      +88017787788
    </td>
    <td>3,50,000</td>
    <td><span class="status">Active</span></td>
    <td>✏️</td>
  </tr>
</tbody>

  </table>
</div>

<!-- PAYMENTS VIEW -->
<div class="card" id="paymentsView">

  <div class="card-header">
    <div>
      <h2>Manage Payments & RDC Logs</h2>
      <div class="subtitle">Add and verify shareholder payments</div>
    </div>
    <button class="btn" onclick="openPaymentModal()">＋ Add Payment</button>
  </div>

  <!-- Filters -->
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px;margin:16px 0;">
    <select class="search">
      <option>Filter by shareholder</option>
      <option>Rajesh Kumar</option>
      <option>Priya Sharma</option>
    </select>

    <select class="search">
      <option>Filter by status</option>
      <option>Verified</option>
      <option>Pending</option>
    </select>
  </div>

  <!-- Payment Item -->
  <div class="payment-row">
    <div>
      <strong>Rajesh Kumar (A-504)</strong>
      <div class="subtitle">5th Construction Installment</div>
      <div class="subtitle">
        RDC-2024-0523 • 2024-05-28 •
        <span style="color:green">Verified</span>
      </div>
    </div>
    <div style="text-align:right">
      <strong>৳4,50,000</strong><br>
      <button class="btn" style="margin-top:6px;background:#fff;color:#000;border:1px solid var(--border)">
        View Receipt
      </button>
    </div>
  </div>

  <div class="payment-row">
    <div>
      <strong>Priya Sharma (A-505)</strong>
      <div class="subtitle">5th Construction Installment</div>
      <div class="subtitle">
        RDC-2024-0531 • 2024-06-02 •
        <span style="color:green">Verified</span>
      </div>
    </div>
    <div style="text-align:right">
      <strong>৳4,50,000</strong><br>
      <button class="btn" style="margin-top:6px;background:#fff;color:#000;border:1px solid var(--border)">
        View Receipt
      </button>
    </div>
  </div>

  <div class="payment-row">
    <div>
      <strong>Amit Patel (B-601)</strong>
      <div class="subtitle">5th Construction Installment</div>
      <div class="subtitle">
        RDC-2024-0527 • 2024-05-30 •
        <span style="color:orange">Pending</span>
      </div>
    </div>
    <div style="text-align:right">
      <strong>৳5,20,000</strong><br>
      <button class="btn" style="margin-top:6px;background:#fff;color:#000;border:1px solid var(--border)">
        View Receipt
      </button>
    </div>
  </div>

</div>

<!-- COSTS VIEW -->
<div class="card" id="costsView" style="display:none">

  <!-- Header -->
  <div class="card-header">
    <div>
      <h2>Manage Project Costs</h2>
      <div class="subtitle">Update budget allocation and add vendor vouchers</div>
    </div>
    <div style="display:flex;gap:10px">
      <button class="btn" onclick="openVoucherModal()">＋ Add Voucher</button>
    </div>
  </div>

  <!-- Budget Overview -->
  <h3 style="margin-top:24px">Budget Overview</h3>

  <div class="budget-grid">

    <div class="budget-card">
      <div class="budget-title">Steel/Rebar</div>
      <div class="budget-amount">৳28,50,000</div>
      <div class="budget-sub">of ৳30,00,000</div>
      <div class="budget-util">95.0% utilized</div>
    </div>

    <div class="budget-card">
      <div class="budget-title">Cement/Aggregate</div>
      <div class="budget-amount">৳21,00,000</div>
      <div class="budget-sub">of ৳25,00,000</div>
      <div class="budget-util">84.0% utilized</div>
    </div>

    <div class="budget-card">
      <div class="budget-title">Labor & Manpower</div>
      <div class="budget-amount">৳25,00,000</div>
      <div class="budget-sub">of ৳40,00,000</div>
      <div class="budget-util">62.5% utilized</div>
    </div>

    <div class="budget-card">
      <div class="budget-title">Finishing Materials</div>
      <div class="budget-amount">৳12,00,000</div>
      <div class="budget-sub">of ৳35,00,000</div>
      <div class="budget-util">34.3% utilized</div>
    </div>

    <div class="budget-card">
      <div class="budget-title">Other Expenses</div>
      <div class="budget-amount">৳6,00,000</div>
      <div class="budget-sub">of ৳20,00,000</div>
      <div class="budget-util">30.0% utilized</div>
    </div>

  </div>

  <!-- Recent Vouchers -->
  <h3 style="margin-top:28px">Recent Vouchers</h3>

  <div class="voucher-row">
    <div>
      <strong>Steel Rebar – 5th Floor Slab</strong>
      <div class="subtitle">Jindal Steel Suppliers</div>
      <div class="subtitle">
        VCH-2024-089 • 2024-05-15 • Steel/Rebar
      </div>
    </div>
    <div style="text-align:right">
      <strong>৳4,25,000</strong><br>
      <button class="btn light-btn">View Invoice</button>
    </div>
  </div>

</div>

<div class="card" id="milestonesView" style="display:none">

  <div class="card-header">
    <div>
      <h2>Manage Construction Milestones</h2>
      <div class="subtitle">
        Add and update project milestones and timeline
      </div>
    </div>
    <button class="btn" onclick="openMilestoneModal()">＋ Add Milestone</button>
  </div>

  <!-- Milestone Item -->
  <div class="milestone-card">
    <div>
      <strong>Land Clearance & Site Preparation</strong>
      <span class="badge completed">Completed</span>
      <div class="subtitle">
        <br>
        Planned: 2023-02-01 • Completed: 2023-02-05
      </div>
    </div>
    ✏ Edit
  </div>

  <div class="milestone-card">
    <div>
      <strong>10th Floor Slab Cast</strong>
      <span class="badge completed">Completed</span>
      <span class="badge delayed">Delayed</span>
      <div class="subtitle"><br>
        Planned: 2024-09-30 • Completed: 2024-10-15
      </div>
      <div class="delay-box">
        Delay Reason: Monsoon season caused 15-day delay
      </div>
    </div>
    ✏ Edit
  </div>

</div>

<!-- Modal -->
<div class="modal" id="modal">
  <div class="modal-box">
    <div class="modal-header">
      <div>
        <h3>Add New Shareholder</h3>
        <div class="subtitle">Enter shareholder details below</div>
      </div>
      <span class="close" onclick="closeModal()">×</span>
    </div>

    <div class="form-grid">
      <input id="name" placeholder="Full Name">
      <input id="flat" placeholder="Flat Number">
      <input id="email" placeholder="Email">
      <input id="phone" placeholder="Phone">
      <input id="shareId" placeholder="Share ID" readonly>
      <input id="amount" placeholder="Total Amount">
    </div>

    <div class="form-actions">
      <button class="btn" style="background:#ddd;color:#000" onclick="closeModal()">Cancel</button>
      <button class="btn" onclick="addShareholder()">Add Shareholder</button>
    </div>
  </div>
</div>

<div class="modal" id="milestoneModal">
  <div class="modal-box" style="width:520px">

    <div class="modal-header">
      <div>
        <h3>Add New Milestone</h3>
        <div class="subtitle">Create a new construction milestone</div>
      </div>
      <span class="close" onclick="closeMilestoneModal()">×</span>
    </div>

    <div class="form-grid">
      <input placeholder="e.g., 11th Floor Slab Cast">
      <input type="date">
      <select>
        <option>Planned</option>
        <option>In Progress</option>
        <option>Completed</option>
        <option>Delayed</option>
      </select>
    </div>

    <div class="form-actions">
      <button class="btn" style="background:#ddd;color:#000"
              onclick="closeMilestoneModal()">Cancel</button>
      <button class="btn">Add Milestone</button>
    </div>

  </div>
</div>


<script>

function generateRDC(name, installment) {
  if (!name || !installment) return '';

  const namePart = name.replace(/\s+/g, '').substring(0, 3).toUpperCase();
  const instMatch = installment.match(/\d+/);
  const instNumber = instMatch ? instMatch[0] : 'X';
  const year = new Date().getFullYear();

  return `RDC-${namePart}-${instNumber}-${year}`;
}

document.getElementById('paymentShareholder').addEventListener('change', updateRDC);
document.getElementById('paymentInstallment').addEventListener('change', updateRDC);

function updateRDC() {
  const name = document.getElementById('paymentShareholder').value;
  const installment = document.getElementById('paymentInstallment').value;
  document.getElementById('rdcId').value = generateRDC(name, installment);
}

  function openPaymentModal() {
  document.getElementById('paymentModal').classList.add('active');
}

function closePaymentModal() {
  document.getElementById('paymentModal').classList.remove('active');
}

function showTab(tab, el) {
  // Hide all views
  document.getElementById('shareholdersView').style.display = 'none';
  document.getElementById('paymentsView').style.display = 'none';
  document.getElementById('costsView').style.display = 'none';
  document.getElementById('milestonesView').style.display = 'none';

  if (tab === 'shareholders') {
    document.getElementById('shareholdersView').style.display = 'block';
  }

  if (tab === 'payments') {
    document.getElementById('paymentsView').style.display = 'block';
  }

  if (tab === 'costs') {
    document.getElementById('costsView').style.display = 'block';
  }

  if (tab === 'milestones') {
    document.getElementById('milestonesView').style.display = 'block';
  }

  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  el.classList.add('active');
}

function openModal() {
  document.getElementById('modal').classList.add('active');
}

function closeModal() {
  document.getElementById('modal').classList.remove('active');
}

/* Generate Share ID from name + mobile */
function generateShareId(name, phone) {
  const cleanName = name.replace(/\s+/g, '').substring(0, 4).toUpperCase();
  const lastDigits = phone.slice(-4);
  return `SH-${cleanName}-${lastDigits}`;
}

document.getElementById('phone').addEventListener('input', () => {
  const name = document.getElementById('name').value;
  const phone = document.getElementById('phone').value;
  if (name && phone.length >= 4) {
    document.getElementById('shareId').value = generateShareId(name, phone);
  }
});

function addShareholder() {
  const name = document.getElementById('name').value;
  const flat = document.getElementById('flat').value;
  const email = document.getElementById('email').value;
  const phone = document.getElementById('phone').value;
  const shareId = document.getElementById('shareId').value;

  if (!name || !phone) return alert("Name & phone required");

  const row = `
    <tr>
      <td>${shareId}</td>
      <td>${name}</td>
      <td>${flat}</td>
      <td>${email}<br>${phone}</td>
      <td>0</td>
      <td><span class="status">Active</span></td>
      <td>✏️</td>
    </tr>
  `;

  document.getElementById('tableBody').insertAdjacentHTML('beforeend', row);
  closeModal();
  // Default tab
document.getElementById('shareholdersView').style.display = 'none';
document.getElementById('paymentsView').style.display = 'block';
document.getElementById('costsView').style.display = 'none';
}

function openVoucherModal() {
  document.getElementById('voucherModal').classList.add('active');
}

function closeVoucherModal() {
  document.getElementById('voucherModal').classList.remove('active');
}

function openMilestoneModal() {
  document.getElementById('milestoneModal').classList.add('active');
}

function closeMilestoneModal() {
  document.getElementById('milestoneModal').classList.remove('active');
}

</script>

<div class="modal" id="paymentModal">
  <div class="modal-box" style="width:560px">
    <div class="modal-header">
      <div>
        <h3>Record New Payment</h3>
        <div class="subtitle">Enter payment details and upload receipt</div>
      </div>
      <span class="close" onclick="closePaymentModal()">×</span>
    </div>
    <div class="form-grid">
<select id="paymentShareholder">
  <option value="">Select shareholder</option>
  <option>Rajesh Kumar</option>
  <option>Priya Sharma</option>
</select>

<select id="paymentInstallment">
  <option value="">Select installment</option>
  <option>5th Construction Installment</option>
  <option>6th Construction Installment</option>
</select>

<input id="rdcId" placeholder="RDC-AUTO-GENERATED" readonly>
      <input placeholder="Amount Paid">
      <input type="date">
      <select>
        <option>Verified</option>
        <option>Pending</option>
      </select>
    </div>
    <div style="
      margin-top:16px;
      border:2px dashed var(--border);
      border-radius:12px;
      padding:24px;
      text-align:center;
      color:var(--muted);
    ">
      ⬆ Click to upload or drag and drop<br>
      <small>PDF files up to 10MB</small>
    </div>
    <div class="form-actions">
      <button class="btn" style="background:#ddd;color:#000" onclick="closePaymentModal()">Cancel</button>
      <button class="btn">Add Payment</button>
    </div>
  </div>
</div>

<!-- ADD VOUCHER MODAL -->
<div class="modal" id="voucherModal">
  <div class="modal-box" style="width:560px">

    <div class="modal-header">
      <div>
        <h3>Add Vendor Voucher</h3>
        <div class="subtitle">Record major purchase and upload invoice</div>
      </div>
      <span class="close" onclick="closeVoucherModal()">×</span>
    </div>

    <div class="form-grid">
      <input placeholder="VCH-2024-XXX">
      <input type="date">

      <input placeholder="e.g., Steel Rebar - 5th Floor Slab">
      <input placeholder="e.g., Jindal Steel Suppliers">

      <input placeholder="Amount">
      <select>
        <option>Select category</option>
        <option>Steel/Rebar</option>
        <option>Cement/Aggregate</option>
        <option>Labor & Manpower</option>
        <option>Finishing Materials</option>
        <option>Other Expenses</option>
      </select>
    </div>

    <div style="
      margin-top:16px;
      border:2px dashed var(--border);
      border-radius:12px;
      padding:24px;
      text-align:center;
      color:var(--muted);
    ">
      ⬆ Click to upload or drag and drop<br>
      <small>PDF files up to 10MB</small>
    </div>

    <div class="form-actions">
      <button class="btn" style="background:#ddd;color:#000" onclick="closeVoucherModal()">
        Cancel
      </button>
      <button class="btn">
        Add Voucher
      </button>
    </div>

  </div>
</div>

</body>
</html>